<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Steady aeroelastic analysis of the Pazy Wing · AeroBeams.jl</title><meta name="title" content="Steady aeroelastic analysis of the Pazy Wing · AeroBeams.jl"/><meta property="og:title" content="Steady aeroelastic analysis of the Pazy Wing · AeroBeams.jl"/><meta property="twitter:title" content="Steady aeroelastic analysis of the Pazy Wing · AeroBeams.jl"/><meta name="description" content="Documentation for AeroBeams.jl."/><meta property="og:description" content="Documentation for AeroBeams.jl."/><meta property="twitter:description" content="Documentation for AeroBeams.jl."/><meta property="og:url" content="https://luizpancini.github.io/AeroBeams.jl/literate/PazyWingPitchRange/"/><meta property="twitter:url" content="https://luizpancini.github.io/AeroBeams.jl/literate/PazyWingPitchRange/"/><link rel="canonical" href="https://luizpancini.github.io/AeroBeams.jl/literate/PazyWingPitchRange/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">AeroBeams.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../theory/">Theory</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../conventionalHALEmodel/">Creating a HALE aircraft model</a></li><li><a class="tocitem" href="../OMCgustTests/">Gust response of an airfoil section</a></li><li><a class="tocitem" href="../typicalSectionFlutterAndDivergence/">Flutter and divergence of a typical aeroelastic section</a></li><li><a class="tocitem" href="../archUnderFollowerPressure/">Static structural analysis of an arch under follower pressure</a></li><li><a class="tocitem" href="../compositeCantileverMD/">Static structural analysis of composite beams</a></li><li><a class="tocitem" href="../PazyWingTorsionTest/">Static structural analysis of the Pazy wing</a></li><li class="is-active"><a class="tocitem" href>Steady aeroelastic analysis of the Pazy Wing</a></li><li><a class="tocitem" href="../HealyBaselineFFWTfreeFlutterAoARangeURange/">Flutter analysis of a wing with flared folding wingtip (FFWT)</a></li><li><a class="tocitem" href="../HealyFFWTsteadyTwistRangeAoARangeSideslipRangeCoast/">Steady aeroelastic analysis of a wing with flared folding wingtip (FFWT)</a></li><li><a class="tocitem" href="../PazyWingFlutterPitchRange/">Flutter analysis of the Pazy wing</a></li><li><a class="tocitem" href="../sweptTipRotor/">Modal analysis of a rotating beam</a></li><li><a class="tocitem" href="../twoStoryFrame/">Modal analysis of a two-story frame</a></li><li><a class="tocitem" href="../initialDispAndVelBeam/">Motion of a simply supported beam under initial conditions</a></li><li><a class="tocitem" href="../flyingScissors/">Dynamic analysis of an articulated beam</a></li><li><a class="tocitem" href="../HealyBaselineFFWTOMCGustFloating/">Gust response of a wing with flared folding wingtip (FFWT)</a></li><li><a class="tocitem" href="../heliosTrim/">Trimming a flying-wing HALE</a></li><li><a class="tocitem" href="../BWBflutter/">Flutter of a Blended-Wing-Body</a></li><li><a class="tocitem" href="../conventionalHALECheckedPitchManeuver/">Pitch maneuver of a HALE aircraft</a></li><li><a class="tocitem" href="../conventionalHALECheckedRollManeuver/">Coordinated turn maneuver of a HALE aircraft</a></li></ul></li><li><a class="tocitem" href="../../publicAPI/">Public API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Steady aeroelastic analysis of the Pazy Wing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Steady aeroelastic analysis of the Pazy Wing</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/luizpancini/AeroBeams.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/luizpancini/AeroBeams.jl/blob/main/test/examples/PazyWingPitchRange.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Steady-aeroelastic-analysis-of-the-Pazy-wing"><a class="docs-heading-anchor" href="#Steady-aeroelastic-analysis-of-the-Pazy-wing">Steady aeroelastic analysis of the Pazy wing</a><a id="Steady-aeroelastic-analysis-of-the-Pazy-wing-1"></a><a class="docs-heading-anchor-permalink" href="#Steady-aeroelastic-analysis-of-the-Pazy-wing" title="Permalink"></a></h1><p>This example illustrates how to set up a steady aeroelastic analysis, using the Technion&#39;s Pazy wing benchmark. The sectional properties of the wing&#39;s spar and the aerodynamic tip loss function were defined by <a href="https://doi.org/10.2514/6.2022-2313">Riso and Cesnik</a>. The data is publicly available at <a href="https://github.com/UM-A2SRL/AePW3-LDWG">https://github.com/UM-A2SRL/AePW3-LDWG</a>.</p><p><img src="../../assets/pazyWT.png" alt/></p><p><em>Pazy wing in the wind tunnel</em> by <a href="https://doi.org/10.2514/1.J060621">Avin et al.</a></p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>The code for this example is available <a href="https://github.com/luizpancini/AeroBeams.jl/blob/main/test/examples/PazyWingPitchRange.jl">here</a>.</p></div></div><h3 id="Problem-setup"><a class="docs-heading-anchor" href="#Problem-setup">Problem setup</a><a id="Problem-setup-1"></a><a class="docs-heading-anchor-permalink" href="#Problem-setup" title="Permalink"></a></h3><p>Let&#39;s begin by setting the variables of our problem. In this example we will analyze the displacements and twist of the clamped wing under several combinations of root pitch angle and airspeed, which are defined by the arrays <code>θRange</code> and <code>URange</code>. The wing was tested with a balance mass of 0.01 kg attached to its tip store, at a position of 40 mm behind the trailing-edge. Notice that we bring into scope some fixed geometrical and discretization properties of the wing&#39;s beam through the function <a href="../../publicAPI/#AeroBeams.geometrical_properties_Pazy"><code>geometrical_properties_Pazy</code></a>.</p><pre><code class="language-julia hljs">using AeroBeams, DelimitedFiles

# Aerodynamic solver
aeroSolver = QuasiSteady()

# Derivation method
derivationMethod = AD()

# Airfoil section
airfoil = deepcopy(flatPlate)

# Flag for upright position
upright = true

# Gravity
g = 0

# Flag for small angles approximation
smallAngles = true

# Fixed geometrical and discretization properties
nElem,L,chord,normSparPos = geometrical_properties_Pazy()

# Tip mass (for test 1, 0.01 kg, 40 mm behind the trailing-edge)
tipMass = 0.01
ηtipMass = [0; -chord*(1-normSparPos)-0.04; 0]

# Root angle (in degrees) and airspeed ranges
θRange = [3, 5, 7]
URange = collect(0:1:60)

# Initialize outputs
tip_OOP = Array{Float64}(undef,length(θRange),length(URange))
tip_IP = Array{Float64}(undef,length(θRange),length(URange))
tip_twist = Array{Float64}(undef,length(θRange),length(URange))
tip_AoA = Array{Float64}(undef,length(θRange),length(URange))</code></pre><h3 id="Solving-the-problem"><a class="docs-heading-anchor" href="#Solving-the-problem">Solving the problem</a><a id="Solving-the-problem-1"></a><a class="docs-heading-anchor-permalink" href="#Solving-the-problem" title="Permalink"></a></h3><p>In the following loops, we create new model instances with the combination of pitch angle and airspeed, create and solve the steady problem, and then extract the outputs of interest. The model creation process is streamlined with the function <a href="../../publicAPI/#AeroBeams.create_Pazy"><code>create_Pazy</code></a>, taking the appropriate inputs. Notice that the twist angle is computed as the arcsine of the difference in &quot;height&quot; between the leading edge and trailing edge of the wingtip (throught the rotation of the local basis vector pointing in the x2-direction).</p><pre><code class="language-julia hljs"># Sweep root angle
for (i,θ) in enumerate(θRange)
    # Sweep airspeed
    for (j,U) in enumerate(URange)
        # Update model
        PazyWingPitchRange,_ = create_Pazy(aeroSolver=aeroSolver,derivationMethod=derivationMethod,airfoil=airfoil,upright=upright,θ=θ*π/180,airspeed=U,g=g,tipMass=tipMass,ηtipMass=ηtipMass,smallAngles=smallAngles)
        # Create and solve problem
        global problem = create_SteadyProblem(model=PazyWingPitchRange)
        solve!(problem)
        # Get tip twist, AoA, IP and OOP displacement at beam reference line
        tip_p = problem.nodalStatesOverσ[end][nElem].p_n2_b
        R,_ = rotation_tensor_WM(tip_p)
        Δ = R*[0; 1; 0]
        tip_twist[i,j] = asind(Δ[3])
        tip_OOP[i,j] = problem.nodalStatesOverσ[end][nElem].u_n2_b[3]
        tip_IP[i,j] = -problem.nodalStatesOverσ[end][nElem].u_n2_b[2]
        tip_AoA[i,j] = problem.model.elements[end].aero.flowAnglesAndRates.αₑ*180/π
    end
end</code></pre><h3 id="Post-processing"><a class="docs-heading-anchor" href="#Post-processing">Post-processing</a><a id="Post-processing-1"></a><a class="docs-heading-anchor-permalink" href="#Post-processing" title="Permalink"></a></h3><p>The post-processing begins by loading the reference data.</p><pre><code class="language-julia hljs"># Load reference data
tip_u3VsU_rootPitch5_Exp = readdlm(pkgdir(AeroBeams)*&quot;/test/referenceData/Pazy/tip_u3VsU_rootPitch5_Exp.txt&quot;)
tip_u3VsU_rootPitch5_UMNAST = readdlm(pkgdir(AeroBeams)*&quot;/test/referenceData/Pazy/tip_u3VsU_rootPitch5_UMNAST.txt&quot;)
tip_u3VsU_rootPitch7_Exp = readdlm(pkgdir(AeroBeams)*&quot;/test/referenceData/Pazy/tip_u3VsU_rootPitch7_Exp.txt&quot;)
tip_u3VsU_rootPitch7_UMNAST = readdlm(pkgdir(AeroBeams)*&quot;/test/referenceData/Pazy/tip_u3VsU_rootPitch7_UMNAST.txt&quot;)
tip_thetaVsU_rootPitch5_Exp = readdlm(pkgdir(AeroBeams)*&quot;/test/referenceData/Pazy/tip_thetaVsU_rootPitch5_Exp.txt&quot;)
tip_thetaVsU_rootPitch5_UMNAST = readdlm(pkgdir(AeroBeams)*&quot;/test/referenceData/Pazy/tip_thetaVsU_rootPitch5_UMNAST.txt&quot;)
tip_thetaVsU_rootPitch7_Exp = readdlm(pkgdir(AeroBeams)*&quot;/test/referenceData/Pazy/tip_thetaVsU_rootPitch7_Exp.txt&quot;)
tip_thetaVsU_rootPitch7_UMNAST = readdlm(pkgdir(AeroBeams)*&quot;/test/referenceData/Pazy/tip_thetaVsU_rootPitch7_UMNAST.txt&quot;)
tip_u3Vsq_rootPitch3_ExpTest1 = readdlm(pkgdir(AeroBeams)*&quot;/test/referenceData/Pazy/tip_u3Vsq_rootPitch3_ExpTest1.txt&quot;)
tip_u3Vsq_rootPitch5_ExpTest1 = readdlm(pkgdir(AeroBeams)*&quot;/test/referenceData/Pazy/tip_u3Vsq_rootPitch5_ExpTest1.txt&quot;)
tip_u3Vsq_rootPitch7_ExpTest1 = readdlm(pkgdir(AeroBeams)*&quot;/test/referenceData/Pazy/tip_u3Vsq_rootPitch7_ExpTest1.txt&quot;)
ρTest2 = 2*1050/43^2 # Estimated air density for test 2, from Table 13 of Avin et al.&#39;s paper</code></pre><p>We can now plot the outputs as a function of airspeed for each of the root pitch angles. The following &quot;experimental&quot; results were taken from Figure 33 of the paper by <a href="https://doi.org/10.2514/1.J060621">Avin et al.</a>. Note that the experimental twist angle was actually estimated by <a href="https://arc.aiaa.org/doi/abs/10.2514/6.2023-0759">Riso and Cesnik</a> using the diffence between the leading- and trailing-edge out-of-plane displacements of <a href="https://doi.org/10.2514/1.J060621">Avin et al.</a>. The correlation with the experimental data and the reference numerical solution is very good.</p><pre><code class="language-julia hljs">using Plots, ColorSchemes
gr()
colors = get(colorschemes[:rainbow], LinRange(0, 1, length(θRange)))

# Tip OOP displacement vs. airspeed
plt1 = plot(xlabel=&quot;Airspeed [m/s]&quot;, ylabel=&quot;Tip OOP displacement [% semispan]&quot;, xlims=[URange[1],URange[end]], ylims=[0,50], legend=:topleft)
plot!([NaN], [NaN], c=:black, lw=2, ls=:solid, label=&quot;AeroBeams&quot;)
plot!([NaN], [NaN], c=:black, lw=2, ls=:dashdot, label=&quot;UM/NAST&quot;)
scatter!([NaN], [NaN], c=:black, ms=4, label=&quot;Exp. (test 1)&quot;)
scatter!([NaN], [NaN], c=:black, shape=:diamond, ms=4, label=&quot;Exp. (test 2)&quot;)
for (i,θ) in enumerate(θRange)
    plot!(URange, tip_OOP[i,:]/L*100, c=colors[i], lw=2, ls=:solid, label=string(&quot;\$\\alpha_r=&quot;,round(Int,θ),&quot;^\\circ\$&quot;))
   if θ==3
       scatter!(sqrt.(2*tip_u3Vsq_rootPitch3_ExpTest1[1,:]/ρTest2), tip_u3Vsq_rootPitch3_ExpTest1[2,:]*100/L, mc=colors[i], shape=:diamond, ms=4, msw=0, label=false)
    elseif θ==5
        plot!(tip_u3VsU_rootPitch5_UMNAST[1,:], tip_u3VsU_rootPitch5_UMNAST[2,:], lw=2, ls=:dashdot, c=colors[i], label=false)
        scatter!(tip_u3VsU_rootPitch5_Exp[1,:], tip_u3VsU_rootPitch5_Exp[2,:], mc=colors[i], ms=4, msw=0, label=false)
        scatter!(sqrt.(2*tip_u3Vsq_rootPitch5_ExpTest1[1,:]/ρTest2), tip_u3Vsq_rootPitch5_ExpTest1[2,:]*100/L, mc=colors[i], shape=:diamond, ms=4, msw=0, label=false)
    elseif θ==7
        plot!(tip_u3VsU_rootPitch7_UMNAST[1,:], tip_u3VsU_rootPitch7_UMNAST[2,:], lw=2, ls=:dashdot, c=colors[i], label=false)
        scatter!(tip_u3VsU_rootPitch7_Exp[1,:], tip_u3VsU_rootPitch7_Exp[2,:], mc=colors[i], ms=4, msw=0, label=false)
        scatter!(sqrt.(2*tip_u3Vsq_rootPitch7_ExpTest1[1,:]/ρTest2), tip_u3Vsq_rootPitch7_ExpTest1[2,:]*100/L, mc=colors[i], shape=:diamond, ms=4, msw=0, label=false)
    end
end

# Tip twist vs. airspeed
plt2 = plot(xlabel=&quot;Airspeed [m/s]&quot;, ylabel=&quot;Tip twist [deg]&quot;, xlims=[URange[1],URange[end]], legend=:topleft)
for (i,θ) in enumerate(θRange)
    plot!(URange, tip_twist[i,:], c=colors[i], lw=2, label=false)
    if θ==5
        plot!(tip_thetaVsU_rootPitch5_UMNAST[1,:], tip_thetaVsU_rootPitch5_UMNAST[2,:], lw=2, ls=:dashdot, c=colors[i], label=false)
        scatter!(tip_thetaVsU_rootPitch5_Exp[1,:], tip_thetaVsU_rootPitch5_Exp[2,:], mc=colors[i], ms=4, msw=0, label=false)
    elseif θ==7
        plot!(tip_thetaVsU_rootPitch7_UMNAST[1,:], tip_thetaVsU_rootPitch7_UMNAST[2,:], lw=2, ls=:dashdot, c=colors[i], label=false)
        scatter!(tip_thetaVsU_rootPitch7_Exp[1,:], tip_thetaVsU_rootPitch7_Exp[2,:], mc=colors[i], ms=4, msw=0, label=false)
    end
end

# Tip AoA vs. airspeed
plt3 = plot(xlabel=&quot;Airspeed [m/s]&quot;, ylabel=&quot;Tip AoA [deg]&quot;, xlims=[URange[1],URange[end]], legend=:bottomright)
for (i,θ) in enumerate(θRange)
    plot!(URange, tip_AoA[i,:], c=colors[i], lw=2, label=false)
end

# Tip in-plane displacement vs. airspeed
plt4 = plot(xlabel=&quot;Airspeed [m/s]&quot;, ylabel=&quot;Tip IP displacement [% semispan]&quot;, xlims=[URange[1],URange[end]], legend=:topleft)
for (i,θ) in enumerate(θRange)
    plot!(URange, tip_IP[i,:]/L*100, c=colors[i], lw=2, label=false)
end</code></pre><p><img src="../PazyWingPitchRange_tipOOP.svg" alt/> <img src="../PazyWingPitchRange_tipTwist.svg" alt/> <img src="../PazyWingPitchRange_tipAoA.svg" alt/> <img src="../PazyWingPitchRange_tipIP.svg" alt/></p><p>Let&#39;s leverage the built-in function <a href="../../publicAPI/#AeroBeams.plot_steady_outputs"><code>plot_steady_outputs</code></a> with the appropriate inputs to plot the lift coefficient over the span of the wing.</p><pre><code class="language-julia hljs"># Lift coefficient over span for the last problem (θ = θRange[end] and U = URange[end])
plot_steady_outputs(problem,outputs=[&quot;cl&quot;],colorScheme=:grays,lw=2)</code></pre><p><img src="../PazyWingPitchRange_cl.svg" alt/></p><p>Finally, we can visualize the deformed state of the wing using the <a href="../../publicAPI/#AeroBeams.plot_steady_deformation"><code>plot_steady_deformation</code></a> with the appropriate arguments. Notice that by default, gravitational loads are plotted in yellow, and aerodynamic loads in green.</p><pre><code class="language-julia hljs"># Deformed state of last problem (θ = θRange[end] and U = URange[end])
deformationPlot = plot_steady_deformation(problem,view=(45,30),plotBCs=true,plotDistLoads=true)</code></pre><p><img src="../PazyWingPitchRange_deformation.svg" alt/></p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../PazyWingTorsionTest/">« Static structural analysis of the Pazy wing</a><a class="docs-footer-nextpage" href="../HealyBaselineFFWTfreeFlutterAoARangeURange/">Flutter analysis of a wing with flared folding wingtip (FFWT) »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Thursday 17 April 2025 19:08">Thursday 17 April 2025</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
